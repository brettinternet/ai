---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

vars:
  PROJECT_NAME:
    sh: basename {{.ROOT_DIR}}

tasks:
  git:
    env:
      CWD: "{{.ROOT_DIR}}"
    cmd: >-
      docker run --rm -i
      --mount type=bind,src=${CWD},dst=/workspace
      mcp/git

  fs:
    env:
      CWD: "{{.ROOT_DIR}}"
      PROJECT_NAME: "{{.PROJECT_NAME}}"
    cmd: >-
      docker run -i --rm
      --mount type=bind,src=${CWD},dst=/projects/${PROJECT_NAME}
      mcp/filesystem
      /projects
